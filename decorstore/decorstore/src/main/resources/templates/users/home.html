<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head th:replace="users/fragments/head :: head"></head>
<body class="goto-here">

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
    <div class="container">
        <a class="navbar-brand" th:href="@{/}">Decor Store</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav">
            <span class="oi oi-menu"></span> Menu
        </button>

        <div class="collapse navbar-collapse" id="ftco-nav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item"><a th:href="@{/}" class="nav-link">Trang chủ</a></li>
                <li class="nav-item"><a th:href="@{/shop}" class="nav-link">Cửa hàng</a></li>
                <li class="nav-item"><a th:href="@{/about}" class="nav-link">Về chúng tôi</a></li>
                <li class="nav-item"><a th:href="@{/blog}" class="nav-link">Tin tức</a></li>
                <li class="nav-item"><a th:href="@{/contact}" class="nav-link">Liên hệ</a></li>

                <li class="nav-item cta cta-colored">
                    <a th:href="@{/cart}" class="nav-link">
                        <span class="icon-shopping_cart"></span>
                        [<span th:text="${cartCount}">0</span>]
                    </a>
                </li>

                <!-- Nếu đã đăng nhập -->
                <li class="nav-item dropdown" th:if="${user != null}">
                    <a class="nav-link dropdown-toggle" href="#" id="dropdown04" data-toggle="dropdown" th:text="${user.username}"></a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" th:href="@{/account}">Thông tin tài khoản</a>
                        <a class="dropdown-item" th:href="@{/logout}">Đăng xuất</a>
                    </div>
                </li>

                <!-- Nếu chưa đăng nhập -->
                <li class="nav-item dropdown" th:if="${user == null}">
                    <a class="nav-link dropdown-toggle" href="#" id="dropdown04" data-toggle="dropdown">Tài khoản</a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" th:href="@{/register}">Đăng ký</a>
                        <a class="dropdown-item" th:href="@{/login}">Đăng nhập</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Banner -->
<section id="home-section" class="hero">
    <div class="home-slider owl-carousel">
        <div class="slider-item" th:style="'background-image: url(https://images.unsplash.com/photo-1505691938895-1758d7feb511);'">
            <div class="overlay"></div>
        </div>
        <div class="slider-item" th:style="'background-image: url(https://images.unsplash.com/photo-1600585154340-be6161a56a0c);'">
            <div class="overlay"></div>
        </div>
    </div>
</section>


<!-- Services -->
<section class="ftco-section">
    <div class="container">
        <div class="row no-gutters ftco-services">
            <!-- Giao hàng nhanh -->
            <div class="col-md-3 text-center d-flex ftco-animate">
                <div class="media block-6 services">
                    <div class="icon bg-color-1 active d-flex justify-content-center align-items-center mb-2">
                        <span class="flaticon-shipped"></span>
                    </div>
                    <div class="media-body">
                        <h3 class="heading">Giao hàng toàn quốc</h3>
                        <span>Miễn phí cho đơn trên 2.000.000₫</span>
                    </div>
                </div>
            </div>

            <!-- Sản phẩm decor chất lượng -->
            <div class="col-md-3 text-center d-flex ftco-animate">
                <div class="media block-6 services">
                    <div class="icon bg-color-2 d-flex justify-content-center align-items-center mb-2">
                        <span class="fa-solid fa-couch"></span>  <!-- sofa -->                    </div>
                    <div class="media-body">
                        <h3 class="heading">Sản phẩm cao cấp</h3>
                        <span>Chất liệu bền đẹp, thiết kế tinh tế</span>
                    </div>
                </div>
            </div>

            <!-- Đa dạng mẫu mã -->
            <div class="col-md-3 text-center d-flex ftco-animate">
                <div class="media block-6 services">
                    <div class="icon bg-color-3 d-flex justify-content-center align-items-center mb-2">
                        <span class="fa-solid fa-lightbulb"></span> <!-- lamp -->
                    </div>
                    <div class="media-body">
                        <h3 class="heading">Mẫu mã đa dạng</h3>
                        <span>Phù hợp nhiều phong cách không gian</span>
                    </div>
                </div>
            </div>

            <!-- Tư vấn tận tâm -->
            <div class="col-md-3 text-center d-flex ftco-animate">
                <div class="media block-6 services">
                    <div class="icon bg-color-4 d-flex justify-content-center align-items-center mb-2">
                        <span class="fa-solid fa-headset"></span>      <!-- Hỗ trợ -->
                    </div>
                    <div class="media-body">
                        <h3 class="heading">Hỗ trợ tận tâm</h3>
                        <span>Hỗ trợ chọn sản phẩm & decor không gian</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
</section>

<section class="ftco-section ftco-category ftco-no-pt">
    <div class="container">
        <div class="row">
            <div class="col-md-8">
                <div class="row">
                    <div class="col-md-6 order-md-last align-items-stretch d-flex">
                        <div class="category-wrap-2 ftco-animate img align-self-stretch d-flex"
                             th:style="'background-image: url(' + @{/assets/img/decor.jpg} + '); background-size: cover; background-position: center center; background-repeat: no-repeat;'">
                            <div class="text text-center">
                                <h2>Decor Store</h2>
                                <p>Không gian sống sang trọng, tinh tế<br>
                                    Đem đến vẻ đẹp và cảm xúc trong từng góc nhỏ</p>
                                <p><a th:href="@{/shop}" class="btn btn-primary">Khám phá ngay</a></p>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="category-wrap ftco-animate img mb-4 d-flex align-items-end"
                             th:style="'background-image: url(' + @{/assets/img/den-decor.jpg} + '); background-size: cover; background-position: center center; background-repeat: no-repeat;'">
                            <div class="text px-3 py-1">
                                <h2 class="mb-0"><a th:href="@{/shop(category='den')}">Đèn Decor</a></h2>
                            </div>
                        </div>

                        <div class="category-wrap ftco-animate img d-flex align-items-end"
                             th:style="'background-image: url(' + @{/assets/img/sofar.jpg} + '); background-size: cover; background-position: center center; background-repeat: no-repeat;'">
                            <div class="text px-3 py-1">
                                <h2 class="mb-0"><a th:href="@{/shop(category='sofa')}">Ghế & Sofa</a></h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="category-wrap ftco-animate img d-flex align-items-end"
                     th:style="'background-image: url(' + @{/assets/img/tranh-decor.jpg} + '); background-size: cover; background-position: center center; background-repeat: no-repeat;'">
                    <div class="text px-3 py-1">
                        <h2 class="mb-0"><a th:href="@{/shop(category='tranh')}">Tranh treo tường</a></h2>
                    </div>
                </div>

                <div class="category-wrap ftco-animate img d-flex align-items-end mt-4"
                     th:style="'background-image: url(' + @{/assets/img/binh-hoa.jpg} + '); background-size: cover; background-position: center center; background-repeat: no-repeat;'">
                    <div class="text px-3 py-1">
                        <h2 class="mb-0"><a th:href="@{/shop(category='binh-hoa')}">Bình hoa & Decor nhỏ</a></h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="ftco-section">
    <div class="container">
        <div class="row justify-content-center mb-3 pb-3">
            <div class="col-md-12 heading-section text-center ftco-animate">
                <span class="subheading">Sản phẩm nổi bật</span>
                <h2 class="mb-4">Sản phẩm của chúng tôi</h2>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 col-lg-3 ftco-animate" th:each="pro : ${featuredProducts}">
                <div class="product">
                    <a th:href="@{/product/{id}(id=${pro.id})}" class="img-prod">
                        <!-- CÁCH ĐỠN GIẢN NHẤT -->
                        <img class="img-fluid"
                             th:src="${'/uploads/' + #strings.replace(pro.mainImage, ' ', '_')}"
                             th:alt="${pro.name}"
                             onerror="this.onerror=null; this.style.opacity='0.3';">
                        <div class="overlay"></div>
                    </a>
                    <div class="text py-3 pb-4 px-3 text-center">
                        <h3>
                            <a th:href="@{/product/{id}(id=${pro.id})}"
                               th:text="${pro.name}"></a>
                        </h3>
                        <div class="pricing">
                            <p class="price">
                                <span th:if="${pro.price != null}"
                                      th:text="${#numbers.formatInteger(pro.price, 0, 'POINT')} + ' ₫'"></span>
                                <span th:if="${pro.price == null}">Liên hệ</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="ftco-section testimony-section bg-light">
    <div class="container">
        <div class="row justify-content-center mb-5 pb-3">
            <div class="col-md-7 heading-section ftco-animate text-center">
                <span class="subheading">Cảm nhận khách hàng</span>
                <h2 class="mb-4">Khách hàng nói gì về Decor Store</h2>
                <p class="text-muted">Những phản hồi chân thành từ những người đã tin tưởng và lựa chọn sản phẩm của chúng tôi.</p>
            </div>
        </div>

        <div class="row ftco-animate">
            <div class="col-md-12">
                <div class="carousel-testimony owl-carousel">

                    <div class="item">
                        <div class="testimony-wrap p-4 pb-5 shadow-sm bg-white rounded">
                            <div class="user-img mb-4"
                                 th:style="'background-image: url(' + @{/assets/img/person_1.jpg} + '); background-size: cover;'">                                    <i class="icon-quote-left"></i>
                                </span>
                            </div>
                            <div class="text text-center">
                                <p class="mb-4 line">“Không gian phòng khách của tôi trở nên sang trọng hơn rất nhiều. Chất lượng sản phẩm tuyệt vời!”</p>
                                <p class="name fw-bold">Trần Hải Quang</p>
                                <span class="position text-muted">Hà Nội</span>
                            </div>
                        </div>
                    </div>

                    <div class="item">
                        <div class="testimony-wrap p-4 pb-5 shadow-sm bg-white rounded">
                            <div class="user-img mb-4"
                                 th:style="'background-image: url(' + @{/assets/img/person_2.jpg} + '); background-size: cover;'">                                <span class="quote d-flex align-items-center justify-content-center">
                                    <i class="icon-quote-left"></i>
                                </span>
                            </div>
                            <div class="text text-center">
                                <p class="mb-4 line">“Dịch vụ tư vấn rất tận tâm, giúp tôi chọn được bộ decor phù hợp với phong cách Scandinavian.”</p>
                                <p class="name fw-bold">Lại Tuấn</p>
                                <span class="position text-muted">Nam Định</span>
                            </div>
                        </div>
                    </div>

                    <div class="item">
                        <div class="testimony-wrap p-4 pb-5 shadow-sm bg-white rounded">
                            <div class="user-img mb-4"
                                 th:style="'background-image: url(' + @{/assets/img/person_3.jpg} + '); background-size: cover;'">                                <span class="quote d-flex align-items-center justify-content-center">
                                    <i class="icon-quote-left"></i>
                                </span>
                            </div>
                            <div class="text text-center">
                                <p class="mb-4 line">“Sản phẩm decor cực kỳ tinh tế và hiện đại, giao hàng nhanh và đóng gói rất kỹ.”</p>
                                <p class="name fw-bold">Lâm</p>
                                <span class="position text-muted">Hà Nội</span>
                            </div>
                        </div>
                    </div>

                    <div class="item">
                        <div class="testimony-wrap p-4 pb-5 shadow-sm bg-white rounded">
                            <div class="user-img mb-4"
                                 th:style="'background-image: url(' + @{/assets/img/person_4.jpg} + '); background-size: cover;'">                                <span class="quote d-flex align-items-center justify-content-center">
                                    <i class="icon-quote-left"></i>
                                </span>
                            </div>
                            <div class="text text-center">
                                <p class="mb-4 line">“Tôi mua bộ đèn decor phòng ngủ, ánh sáng ấm và tinh tế, đúng chuẩn phong cách tôi muốn.”</p>
                                <p class="name fw-bold">Trần Long</p>
                                <span class="position text-muted">Cần Thơ</span>
                            </div>
                        </div>
                    </div>

                    <div class="item">
                        <div class="testimony-wrap p-4 pb-5 shadow-sm bg-white rounded">
                            <div class="user-img mb-4"
                                 th:style="'background-image: url(' + @{/assets/img/05.jpg} + '); background-size: cover;'">                                <span class="quote d-flex align-items-center justify-content-center">
                                    <i class="icon-quote-left"></i>
                                </span>
                            </div>
                            <div class="text text-center">
                                <p class="mb-4 line">“Decor Store là lựa chọn hàng đầu của tôi khi muốn làm mới không gian sống.”</p>
                                <p class="name fw-bold">Đặng Thanh Huyền</p>
                                <span class="position text-muted">Huế</span>
                            </div>
                        </div>
                    </div>

                </div> <!-- end carousel -->
            </div>
        </div>
    </div>
</section>


<footer th:replace="users/fragments/footer :: footer"></footer>
<div th:replace="users/fragments/script :: script"></div>

</body>
</html>
